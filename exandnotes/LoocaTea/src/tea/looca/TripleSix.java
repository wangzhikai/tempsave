package tea.looca;
import java.util.ArrayList;
import java.util.List;
import java.util.regex.Matcher;
import java.util.regex.Pattern;


public class TripleSix {
	
	
	public static int computer (String str) {
		int result = -1;
		str = str.replaceAll("c", "");
		// grep the first number
		Pattern p = Pattern.compile("[0-9]+");
		Matcher m = p.matcher(str);

		if (m.find()) {
			String tmp = str.substring(m.start(),m.end());
			result = Integer.parseInt(tmp);
			System.out.print(result );
		} // else  not need to handle exception

		str = str.substring(m.end());
		//while (not end of str) {
		while ( str.length() > 0 ) {
			// grep an op
			 p = Pattern.compile("[+|*]");
			 m = p.matcher(str);
			 String operator = ""; 
					 
				if (m.find()) {
					String tmp = str.substring(m.start(),m.end());
					System.out.print(" "+tmp );
					operator = tmp;
				} // else  not need to handle exception
				str = str.substring(m.end());

			// grep an optor2
				p = Pattern.compile("[0-9]+");
				m = p.matcher(str);

				int opt2 = -1;
				if (m.find()) {
					String tmp = str.substring(m.start(),m.end());
					opt2 = Integer.parseInt(tmp);
					System.out.print(" "+ opt2 );
				} // else  not need to handle exception
				str = str.substring(m.end());
			
			// operate
			if (operator.equals("+")) {
				result = result + opt2;
			} else {
				result = result * opt2;
			}
			
		}
		System.out.println(" ="+ result);
		return result;
	}
	static int [] arr = new int [] {1,2,3,5,2,4};
	static char [] ops = new char [] {'c','+','*'};
	static int count = 0;
	static int goal = 666;
	static List<String> answers = new ArrayList<String>();
	
	public static void bruteFormulae (int elementIndex,  String formula) {
		if (elementIndex >= arr.length) {
			//System.out.println(formula);
			if (goal == computer(formula) )
				//System.out.println("Anser ======= "+formula);
				answers.add(formula);
		} else {
			String newFormula = "";
			for ( char op : ops) {
				if (elementIndex == 1) {
					newFormula =""+arr[elementIndex-1]+op + arr[elementIndex];
				} else {
					newFormula = formula +"" + op + arr[elementIndex];
				}
				bruteFormulae (elementIndex+1,  newFormula);
			}
		}
	}

	public static void main(String[] args) {
		bruteFormulae(1,"");
		System.out.println("========");
		for (String str: answers) {
			System.out.println(str);
		}
	}

}

/* output
123524 =123524
12352 + 4 =12356
12352 * 4 =49408
1235 + 24 =1259
1235 + 2 + 4 =1241
1235 + 2 * 4 =4948
1235 * 24 =29640
1235 * 2 + 4 =2474
1235 * 2 * 4 =9880
123 + 524 =647
123 + 52 + 4 =179
123 + 52 * 4 =700
123 + 5 + 24 =152
123 + 5 + 2 + 4 =134
123 + 5 + 2 * 4 =520
123 + 5 * 24 =3072
123 + 5 * 2 + 4 =260
123 + 5 * 2 * 4 =1024
123 * 524 =64452
123 * 52 + 4 =6400
123 * 52 * 4 =25584
123 * 5 + 24 =639
123 * 5 + 2 + 4 =621
123 * 5 + 2 * 4 =2468
123 * 5 * 24 =14760
123 * 5 * 2 + 4 =1234
123 * 5 * 2 * 4 =4920
12 + 3524 =3536
12 + 352 + 4 =368
12 + 352 * 4 =1456
12 + 35 + 24 =71
12 + 35 + 2 + 4 =53
12 + 35 + 2 * 4 =196
12 + 35 * 24 =1128
12 + 35 * 2 + 4 =98
12 + 35 * 2 * 4 =376
12 + 3 + 524 =539
12 + 3 + 52 + 4 =71
12 + 3 + 52 * 4 =268
12 + 3 + 5 + 24 =44
12 + 3 + 5 + 2 + 4 =26
12 + 3 + 5 + 2 * 4 =88
12 + 3 + 5 * 24 =480
12 + 3 + 5 * 2 + 4 =44
12 + 3 + 5 * 2 * 4 =160
12 + 3 * 524 =7860
12 + 3 * 52 + 4 =784
12 + 3 * 52 * 4 =3120
12 + 3 * 5 + 24 =99
12 + 3 * 5 + 2 + 4 =81
12 + 3 * 5 + 2 * 4 =308
12 + 3 * 5 * 24 =1800
12 + 3 * 5 * 2 + 4 =154
12 + 3 * 5 * 2 * 4 =600
12 * 3524 =42288
12 * 352 + 4 =4228
12 * 352 * 4 =16896
12 * 35 + 24 =444
12 * 35 + 2 + 4 =426
12 * 35 + 2 * 4 =1688
12 * 35 * 24 =10080
12 * 35 * 2 + 4 =844
12 * 35 * 2 * 4 =3360
12 * 3 + 524 =560
12 * 3 + 52 + 4 =92
12 * 3 + 52 * 4 =352
12 * 3 + 5 + 24 =65
12 * 3 + 5 + 2 + 4 =47
12 * 3 + 5 + 2 * 4 =172
12 * 3 + 5 * 24 =984
12 * 3 + 5 * 2 + 4 =86
12 * 3 + 5 * 2 * 4 =328
12 * 3 * 524 =18864
12 * 3 * 52 + 4 =1876
12 * 3 * 52 * 4 =7488
12 * 3 * 5 + 24 =204
12 * 3 * 5 + 2 + 4 =186
12 * 3 * 5 + 2 * 4 =728
12 * 3 * 5 * 24 =4320
12 * 3 * 5 * 2 + 4 =364
12 * 3 * 5 * 2 * 4 =1440
1 + 23524 =23525
1 + 2352 + 4 =2357
1 + 2352 * 4 =9412
1 + 235 + 24 =260
1 + 235 + 2 + 4 =242
1 + 235 + 2 * 4 =952
1 + 235 * 24 =5664
1 + 235 * 2 + 4 =476
1 + 235 * 2 * 4 =1888
1 + 23 + 524 =548
1 + 23 + 52 + 4 =80
1 + 23 + 52 * 4 =304
1 + 23 + 5 + 24 =53
1 + 23 + 5 + 2 + 4 =35
1 + 23 + 5 + 2 * 4 =124
1 + 23 + 5 * 24 =696
1 + 23 + 5 * 2 + 4 =62
1 + 23 + 5 * 2 * 4 =232
1 + 23 * 524 =12576
1 + 23 * 52 + 4 =1252
1 + 23 * 52 * 4 =4992
1 + 23 * 5 + 24 =144
1 + 23 * 5 + 2 + 4 =126
1 + 23 * 5 + 2 * 4 =488
1 + 23 * 5 * 24 =2880
1 + 23 * 5 * 2 + 4 =244
1 + 23 * 5 * 2 * 4 =960
1 + 2 + 3524 =3527
1 + 2 + 352 + 4 =359
1 + 2 + 352 * 4 =1420
1 + 2 + 35 + 24 =62
1 + 2 + 35 + 2 + 4 =44
1 + 2 + 35 + 2 * 4 =160
1 + 2 + 35 * 24 =912
1 + 2 + 35 * 2 + 4 =80
1 + 2 + 35 * 2 * 4 =304
1 + 2 + 3 + 524 =530
1 + 2 + 3 + 52 + 4 =62
1 + 2 + 3 + 52 * 4 =232
1 + 2 + 3 + 5 + 24 =35
1 + 2 + 3 + 5 + 2 + 4 =17
1 + 2 + 3 + 5 + 2 * 4 =52
1 + 2 + 3 + 5 * 24 =264
1 + 2 + 3 + 5 * 2 + 4 =26
1 + 2 + 3 + 5 * 2 * 4 =88
1 + 2 + 3 * 524 =3144
1 + 2 + 3 * 52 + 4 =316
1 + 2 + 3 * 52 * 4 =1248
1 + 2 + 3 * 5 + 24 =54
1 + 2 + 3 * 5 + 2 + 4 =36
1 + 2 + 3 * 5 + 2 * 4 =128
1 + 2 + 3 * 5 * 24 =720
1 + 2 + 3 * 5 * 2 + 4 =64
1 + 2 + 3 * 5 * 2 * 4 =240
1 + 2 * 3524 =10572
1 + 2 * 352 + 4 =1060
1 + 2 * 352 * 4 =4224
1 + 2 * 35 + 24 =129
1 + 2 * 35 + 2 + 4 =111
1 + 2 * 35 + 2 * 4 =428
1 + 2 * 35 * 24 =2520
1 + 2 * 35 * 2 + 4 =214
1 + 2 * 35 * 2 * 4 =840
1 + 2 * 3 + 524 =533
1 + 2 * 3 + 52 + 4 =65
1 + 2 * 3 + 52 * 4 =244
1 + 2 * 3 + 5 + 24 =38
1 + 2 * 3 + 5 + 2 + 4 =20
1 + 2 * 3 + 5 + 2 * 4 =64
1 + 2 * 3 + 5 * 24 =336
1 + 2 * 3 + 5 * 2 + 4 =32
1 + 2 * 3 + 5 * 2 * 4 =112
1 + 2 * 3 * 524 =4716
1 + 2 * 3 * 52 + 4 =472
1 + 2 * 3 * 52 * 4 =1872
1 + 2 * 3 * 5 + 24 =69
1 + 2 * 3 * 5 + 2 + 4 =51
1 + 2 * 3 * 5 + 2 * 4 =188
1 + 2 * 3 * 5 * 24 =1080
1 + 2 * 3 * 5 * 2 + 4 =94
1 + 2 * 3 * 5 * 2 * 4 =360
1 * 23524 =23524
1 * 2352 + 4 =2356
1 * 2352 * 4 =9408
1 * 235 + 24 =259
1 * 235 + 2 + 4 =241
1 * 235 + 2 * 4 =948
1 * 235 * 24 =5640
1 * 235 * 2 + 4 =474
1 * 235 * 2 * 4 =1880
1 * 23 + 524 =547
1 * 23 + 52 + 4 =79
1 * 23 + 52 * 4 =300
1 * 23 + 5 + 24 =52
1 * 23 + 5 + 2 + 4 =34
1 * 23 + 5 + 2 * 4 =120
1 * 23 + 5 * 24 =672
1 * 23 + 5 * 2 + 4 =60
1 * 23 + 5 * 2 * 4 =224
1 * 23 * 524 =12052
1 * 23 * 52 + 4 =1200
1 * 23 * 52 * 4 =4784
1 * 23 * 5 + 24 =139
1 * 23 * 5 + 2 + 4 =121
1 * 23 * 5 + 2 * 4 =468
1 * 23 * 5 * 24 =2760
1 * 23 * 5 * 2 + 4 =234
1 * 23 * 5 * 2 * 4 =920
1 * 2 + 3524 =3526
1 * 2 + 352 + 4 =358
1 * 2 + 352 * 4 =1416
1 * 2 + 35 + 24 =61
1 * 2 + 35 + 2 + 4 =43
1 * 2 + 35 + 2 * 4 =156
1 * 2 + 35 * 24 =888
1 * 2 + 35 * 2 + 4 =78
1 * 2 + 35 * 2 * 4 =296
1 * 2 + 3 + 524 =529
1 * 2 + 3 + 52 + 4 =61
1 * 2 + 3 + 52 * 4 =228
1 * 2 + 3 + 5 + 24 =34
1 * 2 + 3 + 5 + 2 + 4 =16
1 * 2 + 3 + 5 + 2 * 4 =48
1 * 2 + 3 + 5 * 24 =240
1 * 2 + 3 + 5 * 2 + 4 =24
1 * 2 + 3 + 5 * 2 * 4 =80
1 * 2 + 3 * 524 =2620
1 * 2 + 3 * 52 + 4 =264
1 * 2 + 3 * 52 * 4 =1040
1 * 2 + 3 * 5 + 24 =49
1 * 2 + 3 * 5 + 2 + 4 =31
1 * 2 + 3 * 5 + 2 * 4 =108
1 * 2 + 3 * 5 * 24 =600
1 * 2 + 3 * 5 * 2 + 4 =54
1 * 2 + 3 * 5 * 2 * 4 =200
1 * 2 * 3524 =7048
1 * 2 * 352 + 4 =708
1 * 2 * 352 * 4 =2816
1 * 2 * 35 + 24 =94
1 * 2 * 35 + 2 + 4 =76
1 * 2 * 35 + 2 * 4 =288
1 * 2 * 35 * 24 =1680
1 * 2 * 35 * 2 + 4 =144
1 * 2 * 35 * 2 * 4 =560
1 * 2 * 3 + 524 =530
1 * 2 * 3 + 52 + 4 =62
1 * 2 * 3 + 52 * 4 =232
1 * 2 * 3 + 5 + 24 =35
1 * 2 * 3 + 5 + 2 + 4 =17
1 * 2 * 3 + 5 + 2 * 4 =52
1 * 2 * 3 + 5 * 24 =264
1 * 2 * 3 + 5 * 2 + 4 =26
1 * 2 * 3 + 5 * 2 * 4 =88
1 * 2 * 3 * 524 =3144
1 * 2 * 3 * 52 + 4 =316
1 * 2 * 3 * 52 * 4 =1248
1 * 2 * 3 * 5 + 24 =54
1 * 2 * 3 * 5 + 2 + 4 =36
1 * 2 * 3 * 5 + 2 * 4 =128
1 * 2 * 3 * 5 * 24 =720
1 * 2 * 3 * 5 * 2 + 4 =64
1 * 2 * 3 * 5 * 2 * 4 =240
========

*/
